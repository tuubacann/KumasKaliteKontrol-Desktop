<Window x:Class="KumasKaliteKontrol.GUI.HistoryWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Geçmiş Kayıtlar"
        Height="650"
        Width="1050"
        Background="#2D3137"
        WindowStartupLocation="CenterOwner">

    <Grid Margin="16">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="320"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Border Grid.Column="0"
        Background="#3A3F46"
        CornerRadius="14"
        Padding="12">

            <StackPanel>
                <TextBlock Text="Kumaşlar"
                   Foreground="White"
                   FontSize="18"
                   FontWeight="Bold"
                   Margin="0,0,0,10"/>

                <ScrollViewer VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Disabled">

                    <ListBox x:Name="LstFabrics"
                     Background="#EDEFF2"
                     Foreground="#111827"
                     DisplayMemberPath="Display"
                     SelectionChanged="LstFabrics_SelectionChanged"/>
                </ScrollViewer>
            </StackPanel>
        </Border>


        <Border Grid.Column="1"
                Background="#3A3F46"
                CornerRadius="14"
                Padding="12"
                Margin="14,0,0,0">

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0"
                           Text="Seçilen Kumaşın Partileri"
                           Foreground="White"
                           FontSize="18"
                           FontWeight="Bold"
                           Margin="0,0,0,10"/>

                <TextBlock Grid.Row="1"
                           x:Name="TxtSummary"
                           Foreground="#E5E7EB"
                           Margin="0,0,0,10"
                           TextWrapping="Wrap"/>

                <ScrollViewer Grid.Row="2"
                              VerticalScrollBarVisibility="Auto"
                              HorizontalScrollBarVisibility="Disabled">

                    <DataGrid x:Name="GridParties"
                              AutoGenerateColumns="False"
                              Background="#2F343A"
                              Foreground="White"
                              BorderBrush="#5B616A"
                              GridLinesVisibility="Horizontal"
                              RowBackground="#374151"
                              AlternatingRowBackground="#333841"
                              HeadersVisibility="Column"
                              RowHeaderWidth="0"
                              IsReadOnly="True">

                        <DataGrid.RowStyle>
                            <Style TargetType="DataGridRow">
                                <Setter Property="Foreground" Value="LightGreen"/>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Quality}" Value="SecondQuality">
                                        <Setter Property="Foreground" Value="OrangeRed"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </DataGrid.RowStyle>

                        <DataGrid.Resources>

                            <Style TargetType="DataGridColumnHeader">
                                <Setter Property="Background" Value="#374151"/>
                                <Setter Property="Foreground" Value="White"/>
                                <Setter Property="FontWeight" Value="Bold"/>
                                <Setter Property="Padding" Value="10,6"/>
                                <Setter Property="HorizontalContentAlignment" Value="Left"/>
                            </Style>

                            <Style TargetType="DataGridCell">
                                <Setter Property="HorizontalContentAlignment" Value="Left"/>
                                <Setter Property="VerticalContentAlignment" Value="Center"/>
                                <Setter Property="Padding" Value="10,4"/>
                            </Style>

                            <Style TargetType="TextBlock">
                                <Setter Property="TextAlignment" Value="Left"/>
                            </Style>

                        </DataGrid.Resources>

                        <DataGrid.Columns>

                            <DataGridTextColumn Header="Başlangıç"
                                                Binding="{Binding StartMeter}"
                                                Width="*"/>

                            <DataGridTextColumn Header="Bitiş"
                                                Binding="{Binding EndMeter}"
                                                Width="*"/>

                            <DataGridTextColumn Header="Uzunluk"
                                                Binding="{Binding Length}"
                                                Width="*"/>

                            <DataGridTextColumn Header="Hata Uzunluğu"
                                                Binding="{Binding DefectLength}"
                                                Width="*"/>

                            <DataGridTextColumn Header="Hata Oranı"
                                                Binding="{Binding QualityRatio}"
                                                Width="*"/>

                            <DataGridTextColumn Header="Kalite Türü"
                                                Binding="{Binding Quality}"
                                                Width="*"/>

                            <DataGridTextColumn Header="Kalite Hata Puanı"
                                                Binding="{Binding TotalPoints}"
                                                Width="*"/>
                        </DataGrid.Columns>

                    </DataGrid>

                </ScrollViewer>

            </Grid>
        </Border>
    </Grid>
</Window>
